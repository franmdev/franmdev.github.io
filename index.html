<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Francisco Mora - Portafolio</title>
    <style>
        /* (Tu CSS actual está bien, solo aseguramos que los estados ocultos/visibles funcionen) */
        body {
            background-color: #121212;
            color: #e0e0e0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            text-align: center;
        }

        .container {
            max-width: 600px;
            padding: 20px;
        }

        h1 {
            font-size: 2.5rem;
            color: #ffffff;
        }

        p {
            font-size: 1.2rem;
            color: #bbbbbb;
        }

        .links a {
            color: #0099ff;
            text-decoration: none;
            font-weight: bold;
            margin: 0 15px;
        }

        .links a:hover {
            text-decoration: underline;
        }

        /* Estilos para los estados de la página */
        #loader-wrapper,
        #blocked-message,
        #main-content {
            width: 100%;
        }

        #blocked-message {
            color: red;
        }
    </style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QVW5058EVE"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-QVW5058EVE');
    </script>

    <!-- El script de Turnstile se carga aquí, pero se renderizará manualmente -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
</head>

<body>
    <!-- ESTADO 1: Cargando (se muestra por defecto) -->
    <div id="loader-wrapper" style="text-align: center; padding: 50px;">
        <p>Validando conexión segura...</p>
    </div>

    <!-- ESTADO 2: Bloqueado (oculto por defecto) -->
    <div id="blocked-message" style="display: none; text-align: center; padding: 50px;">
        <h2>Acceso Denegado</h2>
        <p>Lo sentimos, no podemos mostrar el contenido completo desde esta ubicación por razones de seguridad.</p>
    </div>

    <!-- ESTADO 3: Contenido Principal (oculto por defecto) -->
    <div id="main-content" style="display: none;" class="container">

        <!-- TODO TU CONTENIDO ACTUAL VA AQUÍ -->
        <h1>Portafolio Francisco Mora</h1>
        <p>Bienvenido...</p>

        <!-- El div de Turnstile (AHORA SIN data-callback y con un ID) -->
        <!-- Lo llamaremos manualmente desde JS si es necesario -->
        <div id="cf-turnstile-widget" class="cf-turnstile" data-sitekey="0x4AAAAAAB8sMLnvQf8wAXSD"></div>

        <!-- El placeholder para los links -->
        <div id="social-links-placeholder"></div>

        <!-- El footer de atribución (si usas ipapi.is y lo requiere, o bórralo) -->
        <!-- 
        <footer style="font-size: 0.8em; color: grey; text-align: center; margin-top: 50px;">
            <p>This site uses ... IP geolocation web service.</p>
        </footer>
        -->

    </div> <!-- Fin de #main-content -->

    <!-- TU SCRIPT PRINCIPAL AHORA DEBE IR AL FINAL DEL BODY -->
    <!-- Esto soluciona el error 'checkIpStatus is not defined' porque el script se carga -->
    <!-- después de que los elementos del DOM (loader-wrapper, etc.) existen. -->
    <script src="assets/js/main.js"></script>
</body>

</html>